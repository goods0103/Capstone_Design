{"ast":null,"code":"import _toConsumableArray from\"C:/Project/demo/src/main/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Project/demo/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./cart.module.css\";import{useState}from\"react\";import{CartHeader}from\"./cartHeader\";import{CartList}from\"./cartList\";import{TotalCart}from\"./totalCart\";import{CartProgress}from\"./cartProgress\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Cart=function Cart(_ref){var cart=_ref.cart,setCart=_ref.setCart,convertPrice=_ref.convertPrice;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),checkLists=_useState4[0],setCheckLists=_useState4[1];var isAllChecked=cart.length===checkLists.length&&checkLists.length!==0;var found=checkLists.map(function(checkList){return cart.filter(function(el){return el.id===parseInt(checkList);});});var handelDiscount=function handelDiscount(){};var handleQuantity=function handleQuantity(type,id,quantity){var found=cart.filter(function(el){return el.id===id;})[0];var idx=cart.indexOf(found);if(type===\"plus\"){var cartItem={id:found.id,image:found.image,name:found.name,quantity:quantity,price:found.price,provider:found.provider};setCart([].concat(_toConsumableArray(cart.slice(0,idx)),[cartItem],_toConsumableArray(cart.slice(idx+1))));}else{if(quantity===0)return;var _cartItem={id:found.id,image:found.image,name:found.name,quantity:quantity,price:found.price,provider:found.provider};setCart([].concat(_toConsumableArray(cart.slice(0,idx)),[_cartItem],_toConsumableArray(cart.slice(idx+1))));}};var handleRemove=function handleRemove(id){setCart(cart.filter(function(cart){return cart.id!==id;}));setCheckLists(checkLists.filter(function(check){return parseInt(check)!==id;}));};var handleCheckList=function handleCheckList(checked,id){if(checked){setCheckLists([].concat(_toConsumableArray(checkLists),[id]));}else{setCheckLists(checkLists.filter(function(check){return check!==id;}));}};var handleCheckAll=function handleCheckAll(checked){if(checked){var checkItems=[];cart.map(function(cart){return checkItems.push(\"\".concat(cart.id));});setCheckLists(checkItems);}else{setCheckLists([]);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CartHeader,{isAllChecked:isAllChecked,handleCheckAll:handleCheckAll}),cart.length!==0?cart.map(function(cart){return/*#__PURE__*/_jsx(CartList,{cart:cart,setCart:setCart,convertPrice:convertPrice,handleQuantity:handleQuantity,handleRemove:handleRemove,handleCheckList:handleCheckList,checkLists:checkLists},\"key-\".concat(cart.id));}):/*#__PURE__*/_jsx(\"div\",{className:styles.not}),cart.length!==0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CartProgress,{cart:cart,total:total,setTotal:setTotal,convertPrice:convertPrice,found:found}),/*#__PURE__*/_jsx(TotalCart,{cart:cart,total:total,setTotal:setTotal,convertPrice:convertPrice,found:found})]}):\"\"]});};","map":{"version":3,"names":["styles","useState","CartHeader","CartList","TotalCart","CartProgress","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Cart","_ref","cart","setCart","convertPrice","_useState","_useState2","_slicedToArray","total","setTotal","_useState3","_useState4","checkLists","setCheckLists","isAllChecked","length","found","map","checkList","filter","el","id","parseInt","handelDiscount","handleQuantity","type","quantity","idx","indexOf","cartItem","image","name","price","provider","concat","_toConsumableArray","slice","handleRemove","check","handleCheckList","checked","handleCheckAll","checkItems","push","children","className","not"],"sources":["C:/Project/demo/src/main/frontend/src/components/cart/cart.js"],"sourcesContent":["import styles from \"./cart.module.css\";\r\nimport { useState } from \"react\";\r\nimport { CartHeader } from \"./cartHeader\";\r\nimport { CartList } from \"./cartList\";\r\nimport { TotalCart } from \"./totalCart\";\r\nimport { CartProgress } from \"./cartProgress\";\r\n\r\nexport const Cart = ({ cart, setCart, convertPrice }) => {\r\n  const [total, setTotal] = useState(0);\r\n  const [checkLists, setCheckLists] = useState([]);\r\n  const isAllChecked =\r\n    cart.length === checkLists.length && checkLists.length !== 0;\r\n\r\n  const found = checkLists.map((checkList) =>\r\n    cart.filter((el) => el.id === parseInt(checkList))\r\n  );\r\n\r\n  const handelDiscount = () => {\r\n\r\n  }\r\n\r\n  const handleQuantity = (type, id, quantity) => {\r\n    const found = cart.filter((el) => el.id === id)[0];\r\n    const idx = cart.indexOf(found);\r\n\r\n    if (type === \"plus\") {\r\n      const cartItem = {\r\n        id: found.id,\r\n        image: found.image,\r\n        name: found.name,\r\n        quantity: quantity,\r\n        price: found.price,\r\n        provider: found.provider,\r\n      };\r\n      setCart([...cart.slice(0, idx), cartItem, ...cart.slice(idx + 1)]);\r\n    } else {\r\n      if (quantity === 0) return;\r\n      const cartItem = {\r\n        id: found.id,\r\n        image: found.image,\r\n        name: found.name,\r\n        quantity: quantity,\r\n        price: found.price,\r\n        provider: found.provider,\r\n      };\r\n      setCart([...cart.slice(0, idx), cartItem, ...cart.slice(idx + 1)]);\r\n    }\r\n  };\r\n\r\n  const handleRemove = (id) => {\r\n    setCart(cart.filter((cart) => cart.id !== id));\r\n    setCheckLists(checkLists.filter((check) => parseInt(check) !== id));\r\n  };\r\n\r\n  const handleCheckList = (checked, id) => {\r\n    if (checked) {\r\n      setCheckLists([...checkLists, id]);\r\n    } else {\r\n      setCheckLists(checkLists.filter((check) => check !== id));\r\n    }\r\n  };\r\n\r\n  const handleCheckAll = (checked) => {\r\n    if (checked) {\r\n      const checkItems = [];\r\n      cart.map((cart) => checkItems.push(`${cart.id}`));\r\n      setCheckLists(checkItems);\r\n    } else {\r\n      setCheckLists([]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CartHeader isAllChecked={isAllChecked} handleCheckAll={handleCheckAll} />\r\n      {cart.length !== 0 ? (\r\n        cart.map((cart) => {\r\n          return (\r\n            <CartList\r\n              key={`key-${cart.id}`}\r\n              cart={cart}\r\n              setCart={setCart}\r\n              convertPrice={convertPrice}\r\n              handleQuantity={handleQuantity}\r\n              handleRemove={handleRemove}\r\n              handleCheckList={handleCheckList}\r\n              checkLists={checkLists}\r\n            />\r\n          );\r\n        })\r\n      ) : (\r\n        <div className={styles.not}>\r\n          {/* <h2>장바구니에 담긴 상품이 없습니다.</h2>\r\n          <p>원하는 상품을 장바구니에 담아보세요!</p> */}\r\n        </div>\r\n      )}\r\n      {cart.length !== 0 ? (\r\n        <>\r\n          <CartProgress\r\n            cart={cart}\r\n            total={total}\r\n            setTotal={setTotal}\r\n            convertPrice={convertPrice}\r\n            found={found}\r\n          />\r\n\r\n          <TotalCart\r\n            cart={cart}\r\n            total={total}\r\n            setTotal={setTotal}\r\n            convertPrice={convertPrice}\r\n            found={found}\r\n          />\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}