{"ast":null,"code":"import _toConsumableArray from\"C:/Project/demo/src/main/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import styles from\"../main/main.module.css\";import{useEffect}from\"react\";import{Product}from\"../products/product\";import{getProducts}from\"../../service/fetcher\";import{useParams}from\"react-router-dom\";import CategoryBar from\"./categoryBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var CategoryMove=function CategoryMove(_ref){var convertPrice=_ref.convertPrice,products=_ref.products,setProducts=_ref.setProducts;var params=useParams();var category=params.n;var sortProduct=function sortProduct(type){if(type===\"recent\"){var newProduct=_toConsumableArray(products);newProduct.sort(function(a,b){return a.id-b.id;});setProducts(newProduct);}else if(type===\"row\"){var _newProduct=_toConsumableArray(products);_newProduct.sort(function(a,b){return a.price-b.price;});setProducts(_newProduct);}else if(type===\"high\"){var _newProduct2=_toConsumableArray(products);_newProduct2.sort(function(a,b){return b.price-a.price;});setProducts(_newProduct2);}};useEffect(function(){getProducts().then(function(data){setProducts(data.data.products);});},[setProducts]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CategoryBar,{}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.filter,children:[/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return sortProduct(\"recent\");},children:\"\\uCD5C\\uC2E0\\uC21C\"}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return sortProduct(\"row\");},children:\"\\uB0AE\\uC740 \\uAC00\\uACA9\"}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return sortProduct(\"high\");},children:\"\\uB192\\uC740 \\uAC00\\uACA9\"})]}),/*#__PURE__*/_jsx(\"main\",{className:styles.flex_wrap,children:products.map(function(product){if(product.category===category)return/*#__PURE__*/_jsx(Product,{product:product,convertPrice:convertPrice},\"key-\".concat(product.id));})})]});};","map":{"version":3,"names":["styles","useEffect","Product","getProducts","useParams","CategoryBar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CategoryMove","_ref","convertPrice","products","setProducts","params","category","n","sortProduct","type","newProduct","_toConsumableArray","sort","a","b","id","price","then","data","children","className","filter","onClick","flex_wrap","map","product","concat"],"sources":["C:/Project/demo/src/main/frontend/src/components/category/categoryMove.js"],"sourcesContent":["import styles from \"../main/main.module.css\";\r\nimport { useEffect } from \"react\";\r\nimport { Product } from \"../products/product\";\r\nimport { getProducts } from \"../../service/fetcher\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport CategoryBar from \"./categoryBar\";\r\n\r\nexport const CategoryMove = ({ convertPrice, products, setProducts }) => {\r\n    let params = useParams();\r\n    let category = params.n;\r\n    const sortProduct = (type) => {\r\n        if (type === \"recent\") {\r\n          const newProduct = [...products];\r\n          newProduct.sort((a, b) => a.id - b.id);\r\n          setProducts(newProduct);\r\n        } else if (type === \"row\") {\r\n          const newProduct = [...products];\r\n          newProduct.sort((a, b) => a.price - b.price);\r\n          setProducts(newProduct);\r\n        } else if (type === \"high\") {\r\n          const newProduct = [...products];\r\n          newProduct.sort((a, b) => b.price - a.price);\r\n          setProducts(newProduct);\r\n        }\r\n      };\r\n    \r\n      useEffect(() => {\r\n        getProducts().then((data) => {\r\n          setProducts(data.data.products);\r\n        });\r\n      }, [setProducts]);\r\n      return (\r\n        <>\r\n        <CategoryBar></CategoryBar>\r\n          <p></p>\r\n          <div className={styles.filter}>\r\n            <p onClick={() => sortProduct(\"recent\")}>최신순</p>\r\n            <p onClick={() => sortProduct(\"row\")}>낮은 가격</p>\r\n            <p onClick={() => sortProduct(\"high\")}>높은 가격</p>\r\n          </div>\r\n          <main className={styles.flex_wrap}>\r\n            {products.map((product) => {\r\n                if(product.category === category)\r\n                return (\r\n                    <Product\r\n                    key={`key-${product.id}`}\r\n                    product={product}\r\n                    convertPrice={convertPrice}\r\n                    />\r\n              );\r\n            })}\r\n          </main>\r\n        </>\r\n      );\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}