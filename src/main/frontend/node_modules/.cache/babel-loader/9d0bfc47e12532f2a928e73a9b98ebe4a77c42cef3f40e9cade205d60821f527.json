{"ast":null,"code":"import _slicedToArray from\"C:/Project/capstone/demo/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./cart.module.css\";import{useEffect}from\"react\";import{useState}from\"react\";import{useRef}from\"react\";import{Link}from\"react-router-dom\";import Alert from'react-bootstrap/Alert';import Toast from'react-bootstrap/Toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var basicAlert=function basicAlert(){return/*#__PURE__*/_jsx(Alert,{variant:'warning',children:\"20000\\uC6D0 \\uC774\\uC0C1 \\uAD6C\\uB9E4\\uC2DC \\uCFE0\\uD3F0\\uC744 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"},'warning');};export var TotalCart=function TotalCart(_ref){var total=_ref.total,setTotal=_ref.setTotal,cart=_ref.cart,convertPrice=_ref.convertPrice,found=_ref.found;useEffect(function(){if(found){var temp=found.filter(function(item){return item.length!==0;});var sum=temp.map(function(item){return item[0].price*item[0].quantity;});var reducer=function reducer(acc,cur){return acc+cur;};if(sum.length===0){setTotal(0);return;}var itemTotal=sum.reduce(reducer);setTotal(itemTotal);}else{setTotal(0);}if(total>=30000){setOrder(0);console.log(order);}else{console.log(order);setOrder(3000);}if(total<20000){setDiscount(0);dis.current.innerText=\"쿠폰적용\";dis.current.style=\"color:white\";}},[cart,total,found,setTotal]);var dis=useRef();var couponClick=function couponClick(){if(total>=20000){if(dis.current.innerText==\"쿠폰적용\"){dis.current.innerText=\"쿠폰적용취소\";dis.current.style=\"color:red\";setDiscount(5000);}else if(dis.current.innerText==\"쿠폰적용취소\"){dis.current.innerText=\"쿠폰적용\";dis.current.style=\"color:white\";setDiscount(0);}}else{alert(\"20000원 이상 구매한 경우 쿠폰을 사용할 수 있습니다.\");basicAlert();}};var orderProduct=function orderProduct(){if(total==0){alert(\"상품을 선택해 주세요.\");}};var _useState=useState(0),_useState2=_slicedToArray(_useState,2),discount=_useState2[0],setDiscount=_useState2[1];var _useState3=useState(3000),_useState4=_slicedToArray(_useState3,2),order=_useState4[0],setOrder=_useState4[1];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.total,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.total_price,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.cart_product_total_price,children:\"\\uCD1D \\uC0C1\\uD488\\uAE08\\uC561\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.cart_product_price,children:convertPrice(total)})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.pay_minus,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/icon-minus-line.svg\",alt:\"minus\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.sale,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.cart_product_sale,children:\"\\uC0C1\\uD488 \\uD560\\uC778\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles.cart_product_sale_price,children:[discount,\"\\uC6D0\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.pay_plus,children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/icon-plus-line.svg\",alt:\"plus\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.delivery,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.cart_product_delivery,children:\"\\uBC30\\uC1A1\\uBE44\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles.cart_product_delivery_price,children:[order,\"\\uC6D0\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.payment,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.cart_prouct_payment,children:\"\\uACB0\\uC81C \\uC608\\uC815 \\uAE08\\uC561\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.cart_prouct_payment_price,children:convertPrice(total-discount+order)})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.cart_product_price,children:[/*#__PURE__*/_jsx(\"button\",{ref:dis,className:styles.btn_submit,onClick:function onClick(){return couponClick();},children:\"\\uCFE0\\uD3F0\\uC801\\uC6A9\"}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(Link,{to:total>0?\"/cart/orderComplete\":\"/cart\",children:/*#__PURE__*/_jsx(\"button\",{className:styles.btn_submit,onClick:function onClick(){return orderProduct();},children:\"\\uC120\\uD0DD\\uC0C1\\uD488\\uC8FC\\uBB38\\uD558\\uAE30\"})})]})]})});};","map":{"version":3,"names":["styles","useEffect","useState","useRef","Link","Alert","Toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","basicAlert","variant","children","TotalCart","_ref","total","setTotal","cart","convertPrice","found","temp","filter","item","length","sum","map","price","quantity","reducer","acc","cur","itemTotal","reduce","setOrder","console","log","order","setDiscount","dis","current","innerText","style","couponClick","alert","orderProduct","_useState","_useState2","_slicedToArray","discount","_useState3","_useState4","className","total_price","cart_product_total_price","cart_product_price","pay_minus","src","alt","sale","cart_product_sale","cart_product_sale_price","pay_plus","delivery","cart_product_delivery","cart_product_delivery_price","payment","cart_prouct_payment","cart_prouct_payment_price","ref","btn_submit","onClick","to"],"sources":["C:/Project/capstone/demo/src/main/frontend/src/components/cart/totalCart.js"],"sourcesContent":["import styles from \"./cart.module.css\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Alert from 'react-bootstrap/Alert';\nimport Toast from 'react-bootstrap/Toast';\n\nexport const basicAlert = () => {\n  return (\n    <Alert key={'warning'} variant={'warning'}>\n          20000원 이상 구매시 쿠폰을 사용할 수 있습니다.\n    </Alert>\n  );\n}\n\nexport const TotalCart = ({ total, setTotal, cart, convertPrice, found }) => {\n  useEffect(() => {\n    if (found) {\n      const temp = found.filter((item) => item.length !== 0);\n      const sum = temp.map((item) => item[0].price * item[0].quantity);\n      const reducer = (acc, cur) => acc + cur;\n      if (sum.length === 0) {\n        setTotal(0);\n        return;\n      }\n      const itemTotal = sum.reduce(reducer);\n      setTotal(itemTotal);\n    } else {\n      setTotal(0);\n    }\n    if(total >= 30000) {\n      setOrder(0);\n      console.log(order);\n    }\n    else {\n      console.log(order);\n      setOrder(3000);\n    }\n    if(total < 20000){\n      setDiscount(0);\n      dis.current.innerText = \"쿠폰적용\"\n      dis.current.style=\"color:white\"\n    }\n\n  }, [cart, total, found, setTotal]);\n\n  const dis = useRef();\n\n  const couponClick = () => {\n    if(total >= 20000) {\n      if(dis.current.innerText == \"쿠폰적용\") {\n        dis.current.innerText = \"쿠폰적용취소\"\n        dis.current.style = \"color:red\"\n        setDiscount(5000);\n      }\n      else if(dis.current.innerText == \"쿠폰적용취소\") {\n        dis.current.innerText = \"쿠폰적용\"\n        dis.current.style=\"color:white\"\n        setDiscount(0);\n      }\n    }\n    else {\n      alert(\"20000원 이상 구매한 경우 쿠폰을 사용할 수 있습니다.\");\n      basicAlert();\n    }\n    \n  }\n\n  const orderProduct = () => {\n    if(total == 0) {\n      alert(\"상품을 선택해 주세요.\")\n    }\n  }\n\n  const [discount, setDiscount] = useState(0);\n  const [order, setOrder] = useState(3000);\n  return (\n    <>\n    <div className={styles.total}>\n      <div className={styles.total_price}>\n        <p className={styles.cart_product_total_price}>총 상품금액</p>\n        <p className={styles.cart_product_price}>{convertPrice(total)}</p>\n      </div>\n      <div className={styles.pay_minus}>\n        <img src=\"/images/icon-minus-line.svg\" alt=\"minus\" />\n      </div>\n      <div className={styles.sale}>\n        <p className={styles.cart_product_sale}>상품 할인</p>\n        <p className={styles.cart_product_sale_price}>{discount}원</p>\n      </div>\n      <div className={styles.pay_plus}>\n        <img src=\"/images/icon-plus-line.svg\" alt=\"plus\" />\n      </div>\n      <div className={styles.delivery}>\n        <p className={styles.cart_product_delivery}>배송비</p>\n        <p className={styles.cart_product_delivery_price}>{order}원</p>\n      </div>\n\n      <div className={styles.payment}>\n        <p className={styles.cart_prouct_payment}>결제 예정 금액</p>\n        <p className={styles.cart_prouct_payment_price}>\n          {convertPrice(total - discount + order)}\n        </p>\n      </div>\n      <div className={styles.cart_product_price}>\n        <button ref={dis} className={styles.btn_submit} onClick = {() => couponClick()}>\n          쿠폰적용\n        </button>\n        <p></p>\n        <Link to={total > 0 ? \"/cart/orderComplete\" : \"/cart\"}>\n          <button className={styles.btn_submit} onClick={() => orderProduct()}>\n            선택상품주문하기\n          </button>\n        </Link>\n    </div>\n    </div>\n    \n    </>\n  );\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}