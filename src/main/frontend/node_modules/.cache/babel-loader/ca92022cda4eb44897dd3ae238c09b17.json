{"ast":null,"code":"import _toConsumableArray from\"C:/Project/capstone/demo/src/main/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import styles from\"./main.module.css\";import{useEffect}from\"react\";import{EventBanner}from\"../eventBanner/eventBanner\";import{Product}from\"../products/product\";import{getProducts}from\"../../service/fetcher\";import CategoryBar from\"../category/categoryBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Main=function Main(_ref){var convertPrice=_ref.convertPrice,products=_ref.products,setProducts=_ref.setProducts;var sortProduct=function sortProduct(type){if(type===\"recent\"){var newProduct=_toConsumableArray(products);newProduct.sort(function(a,b){return a.id-b.id;});setProducts(newProduct);}else if(type===\"row\"){var _newProduct=_toConsumableArray(products);_newProduct.sort(function(a,b){return a.price-b.price;});setProducts(_newProduct);}else if(type===\"high\"){var _newProduct2=_toConsumableArray(products);_newProduct2.sort(function(a,b){return b.price-a.price;});setProducts(_newProduct2);}};useEffect(function(){getProducts().then(function(data){setProducts(data.data.products);});},[setProducts]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CategoryBar,{}),/*#__PURE__*/_jsx(EventBanner,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.filter,children:[/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return sortProduct(\"recent\");},children:\"\\uCD5C\\uC2E0\\uC21C\"}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return sortProduct(\"row\");},children:\"\\uB0AE\\uC740 \\uAC00\\uACA9\"}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return sortProduct(\"high\");},children:\"\\uB192\\uC740 \\uAC00\\uACA9\"})]}),/*#__PURE__*/_jsx(\"main\",{className:styles.flex_wrap,children:products.map(function(product){return/*#__PURE__*/_jsx(Product,{product:product,convertPrice:convertPrice},\"key-\".concat(product.id));})})]});};","map":{"version":3,"names":["styles","useEffect","EventBanner","Product","getProducts","CategoryBar","Main","convertPrice","products","setProducts","sortProduct","type","newProduct","sort","a","b","id","price","then","data","filter","flex_wrap","map","product"],"sources":["C:/Project/capstone/demo/src/main/frontend/src/components/main/main.js"],"sourcesContent":["import styles from \"./main.module.css\";\nimport { useEffect } from \"react\";\nimport { EventBanner } from \"../eventBanner/eventBanner\";\nimport { Product } from \"../products/product\";\nimport { getProducts } from \"../../service/fetcher\";\nimport CategoryBar from \"../category/categoryBar\";\n\nexport const Main = ({ convertPrice, products, setProducts }) => {\n  const sortProduct = (type) => {\n    if (type === \"recent\") {\n      const newProduct = [...products];\n      newProduct.sort((a, b) => a.id - b.id);\n      setProducts(newProduct);\n    } else if (type === \"row\") {\n      const newProduct = [...products];\n      newProduct.sort((a, b) => a.price - b.price);\n      setProducts(newProduct);\n    } else if (type === \"high\") {\n      const newProduct = [...products];\n      newProduct.sort((a, b) => b.price - a.price);\n      setProducts(newProduct);\n    }\n  };\n\n  useEffect(() => {\n    getProducts().then((data) => {\n      setProducts(data.data.products);\n    });\n  }, [setProducts]);\n  return (\n    <>\n      <CategoryBar></CategoryBar>\n      <EventBanner />\n      <div className={styles.filter}>\n        <p onClick={() => sortProduct(\"recent\")}>최신순</p>\n        <p onClick={() => sortProduct(\"row\")}>낮은 가격</p>\n        <p onClick={() => sortProduct(\"high\")}>높은 가격</p>\n      </div>\n\n      <main className={styles.flex_wrap}>\n        {products.map((product) => {\n          return (\n            <Product\n              key={`key-${product.id}`}\n              product={product}\n              convertPrice={convertPrice}\n            />\n          );\n        })}\n      </main>\n    </>\n  );\n};\n"],"mappings":"wIAAA,MAAOA,OAAM,KAAM,mBAAmB,CACtC,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,4BAA4B,CACxD,OAASC,OAAO,KAAQ,qBAAqB,CAC7C,OAASC,WAAW,KAAQ,uBAAuB,CACnD,MAAOC,YAAW,KAAM,yBAAyB,CAAC,6IAElD,MAAO,IAAMC,KAAI,CAAG,QAAPA,KAAI,MAAgD,IAA1CC,aAAY,MAAZA,YAAY,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,WAAW,MAAXA,WAAW,CACxD,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,IAAI,CAAK,CAC5B,GAAIA,IAAI,GAAK,QAAQ,CAAE,CACrB,GAAMC,WAAU,oBAAOJ,QAAQ,CAAC,CAChCI,UAAU,CAACC,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAKD,EAAC,CAACE,EAAE,CAAGD,CAAC,CAACC,EAAE,GAAC,CACtCP,WAAW,CAACG,UAAU,CAAC,CACzB,CAAC,IAAM,IAAID,IAAI,GAAK,KAAK,CAAE,CACzB,GAAMC,YAAU,oBAAOJ,QAAQ,CAAC,CAChCI,WAAU,CAACC,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAKD,EAAC,CAACG,KAAK,CAAGF,CAAC,CAACE,KAAK,GAAC,CAC5CR,WAAW,CAACG,WAAU,CAAC,CACzB,CAAC,IAAM,IAAID,IAAI,GAAK,MAAM,CAAE,CAC1B,GAAMC,aAAU,oBAAOJ,QAAQ,CAAC,CAChCI,YAAU,CAACC,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAKA,EAAC,CAACE,KAAK,CAAGH,CAAC,CAACG,KAAK,GAAC,CAC5CR,WAAW,CAACG,YAAU,CAAC,CACzB,CACF,CAAC,CAEDX,SAAS,CAAC,UAAM,CACdG,WAAW,EAAE,CAACc,IAAI,CAAC,SAACC,IAAI,CAAK,CAC3BV,WAAW,CAACU,IAAI,CAACA,IAAI,CAACX,QAAQ,CAAC,CACjC,CAAC,CAAC,CACJ,CAAC,CAAE,CAACC,WAAW,CAAC,CAAC,CACjB,mBACE,wCACE,KAAC,WAAW,IAAe,cAC3B,KAAC,WAAW,IAAG,cACf,aAAK,SAAS,CAAET,MAAM,CAACoB,MAAO,wBAC5B,UAAG,OAAO,CAAE,yBAAMV,YAAW,CAAC,QAAQ,CAAC,EAAC,gCAAQ,cAChD,UAAG,OAAO,CAAE,yBAAMA,YAAW,CAAC,KAAK,CAAC,EAAC,uCAAU,cAC/C,UAAG,OAAO,CAAE,yBAAMA,YAAW,CAAC,MAAM,CAAC,EAAC,uCAAU,GAC5C,cAEN,aAAM,SAAS,CAAEV,MAAM,CAACqB,SAAU,UAC/Bb,QAAQ,CAACc,GAAG,CAAC,SAACC,OAAO,CAAK,CACzB,mBACE,KAAC,OAAO,EAEN,OAAO,CAAEA,OAAQ,CACjB,YAAY,CAAEhB,YAAa,gBAFfgB,OAAO,CAACP,EAAE,EAGtB,CAEN,CAAC,CAAC,EACG,GACN,CAEP,CAAC"},"metadata":{},"sourceType":"module"}