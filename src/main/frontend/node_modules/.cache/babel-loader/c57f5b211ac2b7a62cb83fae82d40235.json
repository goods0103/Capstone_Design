{"ast":null,"code":"import _toConsumableArray from\"C:/Project/capstone/demo/src/main/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Project/capstone/demo/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./cart.module.css\";import{useState}from\"react\";import{CartHeader}from\"./cartHeader\";import{CartList}from\"./cartList\";import{TotalCart}from\"./totalCart\";import{CartProgress}from\"./cartProgress\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Cart=function Cart(_ref){var cart=_ref.cart,setCart=_ref.setCart,convertPrice=_ref.convertPrice;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),checkLists=_useState4[0],setCheckLists=_useState4[1];var isAllChecked=cart.length===checkLists.length&&checkLists.length!==0;var found=checkLists.map(function(checkList){return cart.filter(function(el){return el.id===parseInt(checkList);});});var handelDiscount=function handelDiscount(){};var handleQuantity=function handleQuantity(type,id,quantity){var found=cart.filter(function(el){return el.id===id;})[0];var idx=cart.indexOf(found);if(type===\"plus\"){var cartItem={id:found.id,image:found.image,name:found.name,quantity:quantity,price:found.price,provider:found.provider};setCart([].concat(_toConsumableArray(cart.slice(0,idx)),[cartItem],_toConsumableArray(cart.slice(idx+1))));}else{if(quantity===0)return;var _cartItem={id:found.id,image:found.image,name:found.name,quantity:quantity,price:found.price,provider:found.provider};setCart([].concat(_toConsumableArray(cart.slice(0,idx)),[_cartItem],_toConsumableArray(cart.slice(idx+1))));}};var handleRemove=function handleRemove(id){setCart(cart.filter(function(cart){return cart.id!==id;}));setCheckLists(checkLists.filter(function(check){return parseInt(check)!==id;}));};var handleCheckList=function handleCheckList(checked,id){if(checked){setCheckLists([].concat(_toConsumableArray(checkLists),[id]));}else{setCheckLists(checkLists.filter(function(check){return check!==id;}));}};var handleCheckAll=function handleCheckAll(checked){if(checked){var checkItems=[];cart.map(function(cart){return checkItems.push(\"\".concat(cart.id));});setCheckLists(checkItems);}else{setCheckLists([]);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CartHeader,{isAllChecked:isAllChecked,handleCheckAll:handleCheckAll}),cart.length!==0?cart.map(function(cart){return/*#__PURE__*/_jsx(CartList,{cart:cart,setCart:setCart,convertPrice:convertPrice,handleQuantity:handleQuantity,handleRemove:handleRemove,handleCheckList:handleCheckList,checkLists:checkLists},\"key-\".concat(cart.id));}):/*#__PURE__*/_jsxs(\"div\",{className:styles.not,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uB2F4\\uAE34 \\uC0C1\\uD488\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC6D0\\uD558\\uB294 \\uC0C1\\uD488\\uC744 \\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uB2F4\\uC544\\uBCF4\\uC138\\uC694!\"})]}),cart.length!==0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CartProgress,{cart:cart,total:total,setTotal:setTotal,convertPrice:convertPrice,found:found}),/*#__PURE__*/_jsx(TotalCart,{cart:cart,total:total,setTotal:setTotal,convertPrice:convertPrice,found:found})]}):\"\"]});};","map":{"version":3,"names":["styles","useState","CartHeader","CartList","TotalCart","CartProgress","Cart","cart","setCart","convertPrice","total","setTotal","checkLists","setCheckLists","isAllChecked","length","found","map","checkList","filter","el","id","parseInt","handelDiscount","handleQuantity","type","quantity","idx","indexOf","cartItem","image","name","price","provider","slice","handleRemove","check","handleCheckList","checked","handleCheckAll","checkItems","push","not"],"sources":["C:/Project/capstone/demo/src/main/frontend/src/components/cart/cart.js"],"sourcesContent":["import styles from \"./cart.module.css\";\nimport { useState } from \"react\";\nimport { CartHeader } from \"./cartHeader\";\nimport { CartList } from \"./cartList\";\nimport { TotalCart } from \"./totalCart\";\nimport { CartProgress } from \"./cartProgress\";\n\nexport const Cart = ({ cart, setCart, convertPrice }) => {\n  const [total, setTotal] = useState(0);\n  const [checkLists, setCheckLists] = useState([]);\n  const isAllChecked =\n    cart.length === checkLists.length && checkLists.length !== 0;\n\n  const found = checkLists.map((checkList) =>\n    cart.filter((el) => el.id === parseInt(checkList))\n  );\n\n  const handelDiscount = () => {\n\n  }\n\n  const handleQuantity = (type, id, quantity) => {\n    const found = cart.filter((el) => el.id === id)[0];\n    const idx = cart.indexOf(found);\n\n    if (type === \"plus\") {\n      const cartItem = {\n        id: found.id,\n        image: found.image,\n        name: found.name,\n        quantity: quantity,\n        price: found.price,\n        provider: found.provider,\n      };\n      setCart([...cart.slice(0, idx), cartItem, ...cart.slice(idx + 1)]);\n    } else {\n      if (quantity === 0) return;\n      const cartItem = {\n        id: found.id,\n        image: found.image,\n        name: found.name,\n        quantity: quantity,\n        price: found.price,\n        provider: found.provider,\n      };\n      setCart([...cart.slice(0, idx), cartItem, ...cart.slice(idx + 1)]);\n    }\n  };\n\n  const handleRemove = (id) => {\n    setCart(cart.filter((cart) => cart.id !== id));\n    setCheckLists(checkLists.filter((check) => parseInt(check) !== id));\n  };\n\n  const handleCheckList = (checked, id) => {\n    if (checked) {\n      setCheckLists([...checkLists, id]);\n    } else {\n      setCheckLists(checkLists.filter((check) => check !== id));\n    }\n  };\n\n  const handleCheckAll = (checked) => {\n    if (checked) {\n      const checkItems = [];\n      cart.map((cart) => checkItems.push(`${cart.id}`));\n      setCheckLists(checkItems);\n    } else {\n      setCheckLists([]);\n    }\n  };\n\n  return (\n    <>\n      <CartHeader isAllChecked={isAllChecked} handleCheckAll={handleCheckAll} />\n      {cart.length !== 0 ? (\n        cart.map((cart) => {\n          return (\n            <CartList\n              key={`key-${cart.id}`}\n              cart={cart}\n              setCart={setCart}\n              convertPrice={convertPrice}\n              handleQuantity={handleQuantity}\n              handleRemove={handleRemove}\n              handleCheckList={handleCheckList}\n              checkLists={checkLists}\n            />\n          );\n        })\n      ) : (\n        <div className={styles.not}>\n          <h2>장바구니에 담긴 상품이 없습니다.</h2>\n          <p>원하는 상품을 장바구니에 담아보세요!</p>\n        </div>\n      )}\n      {cart.length !== 0 ? (\n        <>\n          <CartProgress\n            cart={cart}\n            total={total}\n            setTotal={setTotal}\n            convertPrice={convertPrice}\n            found={found}\n          />\n\n          <TotalCart\n            cart={cart}\n            total={total}\n            setTotal={setTotal}\n            convertPrice={convertPrice}\n            found={found}\n          />\n        </>\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n};\n"],"mappings":"wQAAA,MAAOA,OAAM,KAAM,mBAAmB,CACtC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,QAAQ,KAAQ,YAAY,CACrC,OAASC,SAAS,KAAQ,aAAa,CACvC,OAASC,YAAY,KAAQ,gBAAgB,CAAC,6IAE9C,MAAO,IAAMC,KAAI,CAAG,QAAPA,KAAI,MAAwC,IAAlCC,KAAI,MAAJA,IAAI,CAAEC,OAAO,MAAPA,OAAO,CAAEC,YAAY,MAAZA,YAAY,CAChD,cAA0BR,QAAQ,CAAC,CAAC,CAAC,wCAA9BS,KAAK,eAAEC,QAAQ,eACtB,eAAoCV,QAAQ,CAAC,EAAE,CAAC,yCAAzCW,UAAU,eAAEC,aAAa,eAChC,GAAMC,aAAY,CAChBP,IAAI,CAACQ,MAAM,GAAKH,UAAU,CAACG,MAAM,EAAIH,UAAU,CAACG,MAAM,GAAK,CAAC,CAE9D,GAAMC,MAAK,CAAGJ,UAAU,CAACK,GAAG,CAAC,SAACC,SAAS,QACrCX,KAAI,CAACY,MAAM,CAAC,SAACC,EAAE,QAAKA,GAAE,CAACC,EAAE,GAAKC,QAAQ,CAACJ,SAAS,CAAC,GAAC,GACnD,CAED,GAAMK,eAAc,CAAG,QAAjBA,eAAc,EAAS,CAE7B,CAAC,CAED,GAAMC,eAAc,CAAG,QAAjBA,eAAc,CAAIC,IAAI,CAAEJ,EAAE,CAAEK,QAAQ,CAAK,CAC7C,GAAMV,MAAK,CAAGT,IAAI,CAACY,MAAM,CAAC,SAACC,EAAE,QAAKA,GAAE,CAACC,EAAE,GAAKA,EAAE,GAAC,CAAC,CAAC,CAAC,CAClD,GAAMM,IAAG,CAAGpB,IAAI,CAACqB,OAAO,CAACZ,KAAK,CAAC,CAE/B,GAAIS,IAAI,GAAK,MAAM,CAAE,CACnB,GAAMI,SAAQ,CAAG,CACfR,EAAE,CAAEL,KAAK,CAACK,EAAE,CACZS,KAAK,CAAEd,KAAK,CAACc,KAAK,CAClBC,IAAI,CAAEf,KAAK,CAACe,IAAI,CAChBL,QAAQ,CAAEA,QAAQ,CAClBM,KAAK,CAAEhB,KAAK,CAACgB,KAAK,CAClBC,QAAQ,CAAEjB,KAAK,CAACiB,QAClB,CAAC,CACDzB,OAAO,8BAAKD,IAAI,CAAC2B,KAAK,CAAC,CAAC,CAAEP,GAAG,CAAC,GAAEE,QAAQ,qBAAKtB,IAAI,CAAC2B,KAAK,CAACP,GAAG,CAAG,CAAC,CAAC,GAAE,CACpE,CAAC,IAAM,CACL,GAAID,QAAQ,GAAK,CAAC,CAAE,OACpB,GAAMG,UAAQ,CAAG,CACfR,EAAE,CAAEL,KAAK,CAACK,EAAE,CACZS,KAAK,CAAEd,KAAK,CAACc,KAAK,CAClBC,IAAI,CAAEf,KAAK,CAACe,IAAI,CAChBL,QAAQ,CAAEA,QAAQ,CAClBM,KAAK,CAAEhB,KAAK,CAACgB,KAAK,CAClBC,QAAQ,CAAEjB,KAAK,CAACiB,QAClB,CAAC,CACDzB,OAAO,8BAAKD,IAAI,CAAC2B,KAAK,CAAC,CAAC,CAAEP,GAAG,CAAC,GAAEE,SAAQ,qBAAKtB,IAAI,CAAC2B,KAAK,CAACP,GAAG,CAAG,CAAC,CAAC,GAAE,CACpE,CACF,CAAC,CAED,GAAMQ,aAAY,CAAG,QAAfA,aAAY,CAAId,EAAE,CAAK,CAC3Bb,OAAO,CAACD,IAAI,CAACY,MAAM,CAAC,SAACZ,IAAI,QAAKA,KAAI,CAACc,EAAE,GAAKA,EAAE,GAAC,CAAC,CAC9CR,aAAa,CAACD,UAAU,CAACO,MAAM,CAAC,SAACiB,KAAK,QAAKd,SAAQ,CAACc,KAAK,CAAC,GAAKf,EAAE,GAAC,CAAC,CACrE,CAAC,CAED,GAAMgB,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,OAAO,CAAEjB,EAAE,CAAK,CACvC,GAAIiB,OAAO,CAAE,CACXzB,aAAa,8BAAKD,UAAU,GAAES,EAAE,GAAE,CACpC,CAAC,IAAM,CACLR,aAAa,CAACD,UAAU,CAACO,MAAM,CAAC,SAACiB,KAAK,QAAKA,MAAK,GAAKf,EAAE,GAAC,CAAC,CAC3D,CACF,CAAC,CAED,GAAMkB,eAAc,CAAG,QAAjBA,eAAc,CAAID,OAAO,CAAK,CAClC,GAAIA,OAAO,CAAE,CACX,GAAME,WAAU,CAAG,EAAE,CACrBjC,IAAI,CAACU,GAAG,CAAC,SAACV,IAAI,QAAKiC,WAAU,CAACC,IAAI,WAAIlC,IAAI,CAACc,EAAE,EAAG,GAAC,CACjDR,aAAa,CAAC2B,UAAU,CAAC,CAC3B,CAAC,IAAM,CACL3B,aAAa,CAAC,EAAE,CAAC,CACnB,CACF,CAAC,CAED,mBACE,wCACE,KAAC,UAAU,EAAC,YAAY,CAAEC,YAAa,CAAC,cAAc,CAAEyB,cAAe,EAAG,CACzEhC,IAAI,CAACQ,MAAM,GAAK,CAAC,CAChBR,IAAI,CAACU,GAAG,CAAC,SAACV,IAAI,CAAK,CACjB,mBACE,KAAC,QAAQ,EAEP,IAAI,CAAEA,IAAK,CACX,OAAO,CAAEC,OAAQ,CACjB,YAAY,CAAEC,YAAa,CAC3B,cAAc,CAAEe,cAAe,CAC/B,YAAY,CAAEW,YAAa,CAC3B,eAAe,CAAEE,eAAgB,CACjC,UAAU,CAAEzB,UAAW,gBAPXL,IAAI,CAACc,EAAE,EAQnB,CAEN,CAAC,CAAC,cAEF,aAAK,SAAS,CAAErB,MAAM,CAAC0C,GAAI,wBACzB,gHAA2B,cAC3B,2HAA2B,GAE9B,CACAnC,IAAI,CAACQ,MAAM,GAAK,CAAC,cAChB,wCACE,KAAC,YAAY,EACX,IAAI,CAAER,IAAK,CACX,KAAK,CAAEG,KAAM,CACb,QAAQ,CAAEC,QAAS,CACnB,YAAY,CAAEF,YAAa,CAC3B,KAAK,CAAEO,KAAM,EACb,cAEF,KAAC,SAAS,EACR,IAAI,CAAET,IAAK,CACX,KAAK,CAAEG,KAAM,CACb,QAAQ,CAAEC,QAAS,CACnB,YAAY,CAAEF,YAAa,CAC3B,KAAK,CAAEO,KAAM,EACb,GACD,CAEH,EACD,GACA,CAEP,CAAC"},"metadata":{},"sourceType":"module"}